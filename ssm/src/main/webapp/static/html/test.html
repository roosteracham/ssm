<!DOCTYPE html>
<html>
<head>
	<title>test</title>
	<meta charset="utf-8">
</head>
<body>
	<button id="b">add</button>
    <button id="b1">add</button>
<div class="svg-container" id="svgContainer" style="position: relative; left: 15%;
    width: 80%; background-color: lightgray; height: 70%">
<!--	<svg xmlns="http://www.w3.org/2000/svg" version="1.1" >
  <rect x="50" y="20" width="150" height="150" id ='rect'
  style="fill:blue;stroke:pink;stroke-width:5;fill-opacity:0.1;
  stroke-opacity:0.9"/>
</svg>-->
</div>
	<script type="text/javascript" src="../js/jquery.min.js"></script>
	<script type="text/javascript" src="../js/svg.js"></script>
	<script type="text/javascript" src="../js/svg.draggable.js"></script>
	<script type="text/javascript" src="../js/svg.select.js"></script>
	<script type="text/javascript" src="../js/svg.resize.js"></script>
	<script type="text/javascript" src="../js/svg.path.js"></script>
<script>
    var draw = SVG('svgContainer').size(500, 330)

	var rect2 = draw.rect(50,50).move(250,50).fill('red').draggable()
    var group = draw.group()
    var rect = group.rect(50,50).move(100,100).fill('red')
    var rect1 = group.rect(50, 50).fill('red')
	group.draggable()/*.on('dragmove', function (e) {
		e.preventDefault()
		this.move(this.x() + e.movemenX, this.y() + e.movemenY)
    })*/
	/*group.selectize()
		.resize()
		.fill('none')*/
    $('#b').on('click', function () {
        group.add(rect2)
        var r = group.node.getAttribute('transform')
        var s = r.split(',');
        var dx = s[s.length - 2];
        var dy = s[s.length - 1].split(')')[0];
		rect2.move(rect2.x() - parseInt(dx),rect2.y() - parseInt(dy))
    })
    $('#b1').on('click', function () {
        rect2.remove()
		var r = group.node.getAttribute('transform')
		var s = r.split(',');
        var dx = s[s.length - 2];
        var dy = s[s.length - 1].split(')')[0];
        rect2 = draw.rect(50,50).move(rect2.x() + parseInt(dx),rect2.y() + parseInt(dy)).fill('red').draggable()
    })
</script>
</body>
</html>